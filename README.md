# Store Order App

This is a fullstack 3-tier Store Order App, hosted in [Vercel Store Order App](https://react-next-app-store-order.vercel.app/).
1. Database: PostgreSQL + Prisma ORM
2. Backend: React NextJS V13 App Router
3. Front end: React NextJS V13 App Router

</br>

# Database Setup

- To reduce data redundancy, your database structure should at least meeting third normalization level - 3NF
    - 1NF: Each table cell should contain a single value, and each record needs to be unique
    - 2NF: Each table should have a Single Column Primary Key and contains only columns related to the primary key
    - 3NF: Each column of a table should be transitive functional independent to other columns in the table

- Each base table contains a UUID primary key column. 
    - UUID5 is generated by [uuid module](/uuid.d.ts).
    - <b><u>UUID5_NAMESPACE</u></b> and <b><u>UUID5_DELIMITER</u></b> are explicitly defined in environment variables.

- Here's how the schema diagram looks like: ![SCHEMA_DIAGRAM.png](/Misc/SCHEMA_DIAGRAM.png)

- Prisma ORM is used as an ORM to PostgreSQL and the prisma schema is defined [here](/prisma/schema.prisma).

</br>

# Backend/Frontend Setup

React Next JS app router is used, everything is wrapped in the [app](/app/) directory.

- Reusable types can be found in [types.ts](/app/_libs/types.ts)

- Zod is used to validate types:
    - [zod-env-ts](/app/_libs/zod-env.ts) for environment variables validation
    - [zod-form-client](/app/_libs/zod-form-client.ts) for client-side form validation
    - [zod-form-server](/app/_libs/zod-form-server.ts) for server-side form validation

- All database-related CRUD actions are defined in [actions](/app/_actions/) directory.

- Page routes are defined in root/nested page.tsx
    - [member/page.tsx](/app/member/page.tsx)
    - [memberLevel/page.tsx](/app/memberLevel/page.tsx)
    - [uom/page.tsx](/app/uom/page.tsx)
    - [product/page.tsx](/app/product/page.tsx)
    - [page.tsx](/app/page.tsx) as root order page

- All pages are having interactive functions to add new item/edit existing item/delete existing item.

### [Admin] Manage Member
![member.png](/Misc/member.PNG)

### [Admin] Manage Member Level
![member_level.png](/Misc/member_level.PNG)

### [Admin] Manage UOM
![uom.png](/Misc/uom.PNG)

### [Admin] Manage Product
![product.png](/Misc/product.PNG)

### Manage Order
![order.png](/Misc/order.PNG)

### Manage Order Item
![order_item.png](/Misc/order_item.PNG)

1. To add order item, dropdown options are given based on product/uom available.
![order_item_add.png](/Misc/order_item_add.PNG)

2. To update order item, primary items are automatically populated into read-only field upon 'edit' button click.
![order_item_update_onclick.png](/Misc/order_item_update_onclick.PNG)

</br>

# Idea: Additional Features 
1. Design a login system, giving two type of access level.
   1. User can only manage their order/order_item
   2. Admin have additional privileges to manage member/member_level/uom/product

2. Design a discount system for users with higher member level
   1. Users can get discount % based on their member level
   2. Users can be upgraded into higher member level when bonus points reached certain level

</br>

# Installation Instructions
For learning purposes, you may replicate the setup by the following:
1. Fork the github project
2. Run `npm init`
3. Run `npm run dev` to host in [http://localhost:3000/](http://localhost:3000/)
4. Publish into [Vercel](https://vercel.com/)

</br>

# Thanks for visiting! 
Feel free to contact repo owner for any questions.
